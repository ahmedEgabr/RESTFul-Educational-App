{% extends "admin/change_form.html" %}
{% load static %}
{{inline_admin_formset}}
{% block admin_change_form_document_ready %}
{{ block.super }}
<script src="{% static 'courses/js/jquery-3.3.1.min.js' %}"></script>
<script>

   
   
   {% comment %} function showSharedWithField(){

   }

   function hideSharedWithField(){

   }

   function showPeriodicFields(){

   }

   function hidePeriodicFields(){

   } {% endcomment %}

   django.jQuery(document).ready(function(){
      var selectedOption = $("#privacy-0").find(".field-option").find("row").find("span").attr("id", "select2-id_privacy-0-option-container")
      console.log(selectedOption)
      console.log(selectedOption.text())
   })

   

   $("#select2-id_privacy-0-option-container").on('change', function(e){

      var selectedOption = django.jQuery("#id_privacy-0-option").find(":selected").text()

      var lifeTimeAccess = $("#id_lifetime_access")
      var duration = $(`#id_duration`)
      var duration_type = $(`#id_duration_type`)

      if(lifeTimeAccess.is(':checked')){
         duration.parent().parent().parent().hide()
         duration_type.attr("disabled", "disabled")
      }else{
         duration.parent().parent().parent().show()
         duration.attr("disabled", null)
         duration_type.attr("disabled", null)
      }

    })

   {% comment %} django.jQuery(document).ready(function(){
      var prices = $('.dynamic-prices')
      InitiateForm()
      initiateInlinePricesForm(prices) {% endcomment %}
{% comment %} }) {% endcomment %}
</script>

{% endblock %}

